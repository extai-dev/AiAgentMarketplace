{
  "_format": "hh-sol-artifact-1",
  "contractName": "SimpleEscrow",
  "sourceName": "contracts/SimpleEscrow.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_paymentToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "EscrowAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "EscrowAlreadyReleased",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "EscrowNotExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InsufficientDeposit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAgent",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidTokenAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotEscrowCreator",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "taskId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "taskId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowRefunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "taskId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowReleased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_taskId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_agent",
          "type": "address"
        }
      ],
      "name": "approveAndRelease",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_taskId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "depositEscrow",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "escrows",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "released",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_taskId",
          "type": "uint256"
        }
      ],
      "name": "getEscrow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "released",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_taskId",
          "type": "uint256"
        }
      ],
      "name": "getEscrowAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_taskId",
          "type": "uint256"
        }
      ],
      "name": "isEscrowAvailable",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextEscrowId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_taskId",
          "type": "uint256"
        }
      ],
      "name": "refund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b50604051610b39380380610b3983398101604081905261002f916100ee565b6001600055338061005a57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6100638161009c565b506001600160a01b03811661008b57604051630f58058360e11b815260040160405180910390fd5b6001600160a01b031660805261011e565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60006020828403121561010057600080fd5b81516001600160a01b038116811461011757600080fd5b9392505050565b6080516109eb61014e60003960008181610197015281816103e70152818161051401526106d901526109eb6000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c8063715018a611610071578063715018a6146101ff5780637d19e5961461020757806389cb29dd1461025c5780638da5cb5b14610265578063f2fde38b14610276578063fb13abfa1461028957600080fd5b8063012f52ee146100b95780630e2b879d1461014757806311e0003a1461016a578063278ecde11461017f5780633013ce2914610192578063451ee191146101d1575b600080fd5b61010a6100c7366004610917565b60026020819052600091825260409091208054600182015491909201546001600160a01b039182169181169060ff600160a01b8204811691600160a81b90041685565b604080519586526001600160a01b0394851660208701529290931691840191909152151560608301521515608082015260a0015b60405180910390f35b61015a610155366004610917565b61029c565b604051901515815260200161013e565b61017d610178366004610930565b6102d9565b005b61017d61018d366004610917565b610454565b6101b97f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161013e565b6101f16101df366004610917565b60009081526002602052604090205490565b60405190815260200161013e565b61017d61058c565b61010a610215366004610917565b600090815260026020819052604090912080546001820154919092015491926001600160a01b03918216929182169160ff600160a01b8204811692600160a81b9092041690565b6101f160035481565b6001546001600160a01b03166101b9565b61017d61028436600461096e565b6105a0565b61017d610297366004610989565b6105e0565b6000818152600260208190526040822090810154600160a01b900460ff1680156102d257506002810154600160a81b900460ff16155b9392505050565b6102e161075a565b806000036103025760405163162908e360e11b815260040160405180910390fd5b60008281526002602081905260409091200154600160a01b900460ff161561033d5760405163ed77877960e01b815260040160405180910390fd5b6040805160a0810182528281523360208083018281526000848601818152600160608701818152608088018481528b85526002968790529890932096518755925192860180546001600160a01b039485166001600160a01b031990911617905551949092018054925195511515600160a81b0260ff60a81b19961515600160a01b026001600160a81b03199094169583169590951792909217949094169290921790915561040f917f000000000000000000000000000000000000000000000000000000000000000016903084610784565b604051818152339083907f9a57bbb234b70fc26fbb5c8d65f00c0bba23b19c4a7bb1aedb26c7a04269f7479060200160405180910390a36104506001600055565b5050565b61045c61075a565b600081815260026020819052604090912090810154600160a01b900460ff1661049857604051638f4b768760e01b815260040160405180910390fd5b6002810154600160a81b900460ff16156104c557604051631f0a683560e11b815260040160405180910390fd5b60018101546001600160a01b031633146104f25760405163027a57b360e41b815260040160405180910390fd5b60028101805460ff60a81b1916600160a81b17905580546001820154610546907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b039081169116836107f1565b604051818152339084907feac97bc1917fcedc984e3d0671d4e83b359890323d5d1c2de32b28d17c356ced9060200160405180910390a350506105896001600055565b50565b610594610827565b61059e6000610854565b565b6105a8610827565b6001600160a01b0381166105d757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b61058981610854565b6105e861075a565b600082815260026020819052604090912090810154600160a01b900460ff1661062457604051638f4b768760e01b815260040160405180910390fd5b6002810154600160a81b900460ff161561065157604051631f0a683560e11b815260040160405180910390fd5b60018101546001600160a01b0316331461067e5760405163027a57b360e41b815260040160405180910390fd5b6001600160a01b0382166106a55760405163bebdc75760e01b815260040160405180910390fd5b6002810180546001600160a01b03808516600161ff0160a01b031990921691909117600160a81b17909155815490610700907f00000000000000000000000000000000000000000000000000000000000000001684836107f1565b826001600160a01b0316336001600160a01b0316857f23d38aeadadb5b25e6436c7b0d6fcdc7d408b609d4f1ce095cff6bbbf9acc41e8460405161074691815260200190565b60405180910390a450506104506001600055565b60026000540361077d57604051633ee5aeb560e01b815260040160405180910390fd5b6002600055565b6040516001600160a01b0384811660248301528381166044830152606482018390526107eb9186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b0383818316178352505050506108a6565b50505050565b6040516001600160a01b0383811660248301526044820183905261082291859182169063a9059cbb906064016107b9565b505050565b6001546001600160a01b0316331461059e5760405163118cdaa760e01b81523360048201526024016105ce565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b600080602060008451602086016000885af1806108c9576040513d6000823e3d81fd5b50506000513d915081156108e15780600114156108ee565b6001600160a01b0384163b155b156107eb57604051635274afe760e01b81526001600160a01b03851660048201526024016105ce565b60006020828403121561092957600080fd5b5035919050565b6000806040838503121561094357600080fd5b50508035926020909101359150565b80356001600160a01b038116811461096957600080fd5b919050565b60006020828403121561098057600080fd5b6102d282610952565b6000806040838503121561099c57600080fd5b823591506109ac60208401610952565b9050925092905056fea264697066735822122077476388fd812c4717187ec131bd7da8431f9cefeb41b289e26e56e68639018d64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c8063715018a611610071578063715018a6146101ff5780637d19e5961461020757806389cb29dd1461025c5780638da5cb5b14610265578063f2fde38b14610276578063fb13abfa1461028957600080fd5b8063012f52ee146100b95780630e2b879d1461014757806311e0003a1461016a578063278ecde11461017f5780633013ce2914610192578063451ee191146101d1575b600080fd5b61010a6100c7366004610917565b60026020819052600091825260409091208054600182015491909201546001600160a01b039182169181169060ff600160a01b8204811691600160a81b90041685565b604080519586526001600160a01b0394851660208701529290931691840191909152151560608301521515608082015260a0015b60405180910390f35b61015a610155366004610917565b61029c565b604051901515815260200161013e565b61017d610178366004610930565b6102d9565b005b61017d61018d366004610917565b610454565b6101b97f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161013e565b6101f16101df366004610917565b60009081526002602052604090205490565b60405190815260200161013e565b61017d61058c565b61010a610215366004610917565b600090815260026020819052604090912080546001820154919092015491926001600160a01b03918216929182169160ff600160a01b8204811692600160a81b9092041690565b6101f160035481565b6001546001600160a01b03166101b9565b61017d61028436600461096e565b6105a0565b61017d610297366004610989565b6105e0565b6000818152600260208190526040822090810154600160a01b900460ff1680156102d257506002810154600160a81b900460ff16155b9392505050565b6102e161075a565b806000036103025760405163162908e360e11b815260040160405180910390fd5b60008281526002602081905260409091200154600160a01b900460ff161561033d5760405163ed77877960e01b815260040160405180910390fd5b6040805160a0810182528281523360208083018281526000848601818152600160608701818152608088018481528b85526002968790529890932096518755925192860180546001600160a01b039485166001600160a01b031990911617905551949092018054925195511515600160a81b0260ff60a81b19961515600160a01b026001600160a81b03199094169583169590951792909217949094169290921790915561040f917f000000000000000000000000000000000000000000000000000000000000000016903084610784565b604051818152339083907f9a57bbb234b70fc26fbb5c8d65f00c0bba23b19c4a7bb1aedb26c7a04269f7479060200160405180910390a36104506001600055565b5050565b61045c61075a565b600081815260026020819052604090912090810154600160a01b900460ff1661049857604051638f4b768760e01b815260040160405180910390fd5b6002810154600160a81b900460ff16156104c557604051631f0a683560e11b815260040160405180910390fd5b60018101546001600160a01b031633146104f25760405163027a57b360e41b815260040160405180910390fd5b60028101805460ff60a81b1916600160a81b17905580546001820154610546907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b039081169116836107f1565b604051818152339084907feac97bc1917fcedc984e3d0671d4e83b359890323d5d1c2de32b28d17c356ced9060200160405180910390a350506105896001600055565b50565b610594610827565b61059e6000610854565b565b6105a8610827565b6001600160a01b0381166105d757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b61058981610854565b6105e861075a565b600082815260026020819052604090912090810154600160a01b900460ff1661062457604051638f4b768760e01b815260040160405180910390fd5b6002810154600160a81b900460ff161561065157604051631f0a683560e11b815260040160405180910390fd5b60018101546001600160a01b0316331461067e5760405163027a57b360e41b815260040160405180910390fd5b6001600160a01b0382166106a55760405163bebdc75760e01b815260040160405180910390fd5b6002810180546001600160a01b03808516600161ff0160a01b031990921691909117600160a81b17909155815490610700907f00000000000000000000000000000000000000000000000000000000000000001684836107f1565b826001600160a01b0316336001600160a01b0316857f23d38aeadadb5b25e6436c7b0d6fcdc7d408b609d4f1ce095cff6bbbf9acc41e8460405161074691815260200190565b60405180910390a450506104506001600055565b60026000540361077d57604051633ee5aeb560e01b815260040160405180910390fd5b6002600055565b6040516001600160a01b0384811660248301528381166044830152606482018390526107eb9186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b0383818316178352505050506108a6565b50505050565b6040516001600160a01b0383811660248301526044820183905261082291859182169063a9059cbb906064016107b9565b505050565b6001546001600160a01b0316331461059e5760405163118cdaa760e01b81523360048201526024016105ce565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b600080602060008451602086016000885af1806108c9576040513d6000823e3d81fd5b50506000513d915081156108e15780600114156108ee565b6001600160a01b0384163b155b156107eb57604051635274afe760e01b81526001600160a01b03851660048201526024016105ce565b60006020828403121561092957600080fd5b5035919050565b6000806040838503121561094357600080fd5b50508035926020909101359150565b80356001600160a01b038116811461096957600080fd5b919050565b60006020828403121561098057600080fd5b6102d282610952565b6000806040838503121561099c57600080fd5b823591506109ac60208401610952565b9050925092905056fea264697066735822122077476388fd812c4717187ec131bd7da8431f9cefeb41b289e26e56e68639018d64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
